---
specversion: 0.0.2
id: mariadb-atomicapp

metadata:
  name: MySQL Atomic App
  appversion: 1.0.0
  description: This is MySQL
graph:
  - name: mariadb-atomicapp
    params:
      - name: db_user
        description: Database User
      - name: db_pass
        description: Database Password
      - name: db_name
        description: Database Name
      - name: root_pass
        description: Database Root User Password
        default: MySQLPass
      - name: marathon_service_port
        description: |
          (only for Marathon provider)
          Port which Marathon service router will map to container
          (see: https://mesosphere.github.io/marathon/docs/service-discovery-load-balancing.html#service-ports-assignment)
        default: 13306
    artifacts:
      kubernetes:
        - file://artifacts/kubernetes/mariadb-pod.yaml
        - file://artifacts/kubernetes/mariadb-service.yaml
      openshift:
        - inherit:
          - kubernetes
      docker:
        - file://artifacts/docker/mariadb-app-pod_run
      marathon:
         - file://artifacts/marathon/mariadb.json
